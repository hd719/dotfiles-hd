format = """
$directory\
$git_branch\
$git_state\
$git_status\
$cmd_duration\
$line_break\
$custom\
$package\
$character"""

[directory]
style = "blue"

[character]
success_symbol = "[❯](purple)"
error_symbol = "[❯](red)"
vimcmd_symbol = "[❮](green)"

[git_branch]
format = "[$branch]($style)"
style = "bright-black"

[git_status]
format = "[[ (*$conflicted$untracked$modified$staged$renamed$deleted)](218)($ahead_behind$stashed)]($style)"
style = "cyan"
conflicted = "​"
untracked = "​"
modified = "​"
staged = "​"
renamed = "​"
deleted = "​"
stashed = "≡"

[git_state]
format = '\([$state( $progress_current/$progress_total)]($style)\) '
style = "bright-black"

[cmd_duration]
format = " took [$duration]($style) "
style = "yellow"

[custom.nix_version]
symbol = "󱄅"
command = "nix --version | sed 's/nix (Determinate Nix \\([0-9.]*\\)) \\([0-9.]*\\)/det:\\1 nix:\\2/'"
format = "[$symbol $output](fg:#a2d2df) "
when = "command -v nix >/dev/null 2>&1 && (test -n \"$DEVBOX_PROJECT_ROOT\" || test -n \"$DEVBOX_CONFIG_DIR\" || test -n \"$DEVBOX_PACKAGES_DIR\")"

[custom.nodejs_repo]
symbol = ""
command = "node --version"
format = "[$symbol ($output)](fg:#a6e3a1) "
when = "root=$(git rev-parse --show-toplevel 2>/dev/null) && test -n \"$root\" && test -f \"$root/package.json\" && ! test -f \"$root/bun.lock\""

[custom.bun_repo]
symbol = "\ue76f"
command = "bun --version"
format = "[$symbol ($output)](fg:#E8D9C5) "
when = "root=$(git rev-parse --show-toplevel 2>/dev/null) && test -n \"$root\" && test -f \"$root/bun.lock\""

[custom.terraform_repo]
symbol = "󱁢"
command = "terraform version | head -n 1 | awk '{print $2}'"
format = "[$symbol ($output)](fg:#b4befe) "
when = "(test -d .terraform || test -f .terraform.lock.hcl || test -f terragrunt.hcl || ls *.tf *.tf.json >/dev/null 2>&1) || (root=$(git rev-parse --show-toplevel 2>/dev/null) && test -n \"$root\" && (test -d \"$root/.terraform\" || test -f \"$root/.terraform.lock.hcl\" || test -f \"$root/terragrunt.hcl\" || find \"$root\" -maxdepth 1 \\( -name '*.tf' -o -name '*.tf.json' \\) -print -quit 2>/dev/null | grep -q .))"

[custom.helm_repo]
symbol = "⎈"
command = "helm version --short 2>/dev/null | cut -d+ -f1"
format = "[$symbol ($output)](fg:#b4befe) "
when = "command -v helm >/dev/null 2>&1 && root=$(git rev-parse --show-toplevel 2>/dev/null) && test -n \"$root\" && (test -f \"$root/Chart.yaml\" || test -f \"$root/helmfile.yaml\" || test -f \"$root/helmfile.yml\" || test -d \"$root/charts\")"

[custom.java_repo]
symbol = ""
command = "java -version 2>&1 | head -n 1 | awk -F\\\" '{print $2}'"
format = "[$symbol ($output)](fg:#eba0ac) "
when = "command -v java >/dev/null 2>&1 && root=$(git rev-parse --show-toplevel 2>/dev/null) && test -n \"$root\" && (test -f \"$root/pom.xml\" || test -f \"$root/build.gradle\" || test -f \"$root/build.gradle.kts\" || test -f \"$root/settings.gradle\" || test -f \"$root/settings.gradle.kts\" || test -f \"$root/.java-version\")"

[custom.golang_repo]
symbol = ""
command = "go env GOVERSION | sed 's/^go//'"
format = "[$symbol ($output)](fg:#74c7ec) "
when = "command -v go >/dev/null 2>&1 && ((test -f go.mod || test -f go.work || ls *.go >/dev/null 2>&1) || (root=$(git rev-parse --show-toplevel 2>/dev/null) && test -n \"$root\" && (test -f \"$root/go.mod\" || test -f \"$root/go.work\" || find \"$root\" -maxdepth 1 -name '*.go' -print -quit 2>/dev/null | grep -q .)))"

[custom.uv_python]
symbol = ""
command = "uv run python --version | sed 's/Python //'"
format = "[$symbol ($output)](fg:#f2cdcd) "
when = "command -v uv >/dev/null 2>&1 && test -f uv.lock"

[custom.rails_version]
symbol = "󰫏"
style = "fg:#E7365A"
format = "[$symbol ($version)](fg:#E7365A) "

[package]
display_private = true
symbol = ""
format = "[$symbol ($version)](fg:#CBC3E3) "

# [bun]
# symbol = "\ue76f"
# style = "fg:#f5e0dc"
# format = "[$symbol ($version)](fg:#E8D9C5) "

# [deno]
# symbol = "\ue7c0"
# style = "fg:#f5e0dc"
# format = "[$symbol ($version)](fg:#8f8f8f) "

# [python]
# symbol = ""
# style = "fg:#f5e0dc"
# format = "[$symbol ($version)](fg:#f2cdcd) "
# detect_extensions = []
# detect_files = []
# detect_folders = []

# [ruby]
# symbol = ""
# style = "fg:#E10531"
# format = "[$symbol ($version)](fg:#E10531) "

# [golang]
# symbol = ""
# style = "fg:#74c7ec"
# format = "[$symbol ($version)](fg:#74c7ec) "

# [helm]
# symbol = "⎈"
# style = "fg:#b4befe"
# format = "[$symbol ($version)](fg:#b4befe) "

# [java]
# symbol = ""
# style = "fg:#eba0ac"
# format = "[$symbol ($version)](fg:#eba0ac) "

# [terraform]
# symbol = "󱁢"
# style = "fg:#b4befe"
# format = "[$symbol ($version)](fg:#b4befe) "
